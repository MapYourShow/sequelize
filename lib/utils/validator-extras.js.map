{
  "version": 3,
  "sources": ["../../src/utils/validator-extras.js"],
  "sourcesContent": ["'use strict';\r\n\r\nconst _ = require('lodash');\r\nconst validator = _.cloneDeep(require('validator'));\r\nconst dayjs = require('dayjs');\r\n\r\nexport const extensions = {\r\n  extend(name, fn) {\r\n    this[name] = fn;\r\n\r\n    return this;\r\n  },\r\n  notEmpty(str) {\r\n    return !/^\\s*$/.test(str);\r\n  },\r\n  len(str, min, max) {\r\n    return this.isLength(str, min, max);\r\n  },\r\n  isUrl(str) {\r\n    return this.isURL(str);\r\n  },\r\n  isIPv6(str) {\r\n    return this.isIP(str, 6);\r\n  },\r\n  isIPv4(str) {\r\n    return this.isIP(str, 4);\r\n  },\r\n  notIn(str, values) {\r\n    return !this.isIn(str, values);\r\n  },\r\n  regex(str, pattern, modifiers) {\r\n    str = String(str);\r\n    if (Object.prototype.toString.call(pattern).slice(8, -1) !== 'RegExp') {\r\n      pattern = new RegExp(pattern, modifiers);\r\n    }\r\n\r\n    return str.match(pattern);\r\n  },\r\n  notRegex(str, pattern, modifiers) {\r\n    return !this.regex(str, pattern, modifiers);\r\n  },\r\n  isDecimal(str) {\r\n    return str !== '' && Boolean(/^(?:-?\\d+)?(?:\\.\\d*)?(?:[Ee][+-]?\\d+)?$/.test(str));\r\n  },\r\n  min(str, val) {\r\n    const number = Number.parseFloat(str);\r\n\r\n    return isNaN(number) || number >= val;\r\n  },\r\n  max(str, val) {\r\n    const number = Number.parseFloat(str);\r\n\r\n    return isNaN(number) || number <= val;\r\n  },\r\n  not(str, pattern, modifiers) {\r\n    return this.notRegex(str, pattern, modifiers);\r\n  },\r\n  contains(str, elem) {\r\n    return Boolean(elem) && str.includes(elem);\r\n  },\r\n  notContains(str, elem) {\r\n    return !this.contains(str, elem);\r\n  },\r\n  is(str, pattern, modifiers) {\r\n    return this.regex(str, pattern, modifiers);\r\n  },\r\n};\r\n\r\n// instance based validators\r\nvalidator.isImmutable = function (value, validatorArgs, field, modelInstance) {\r\n  return modelInstance.isNewRecord || modelInstance.dataValues[field] === modelInstance._previousDataValues[field];\r\n};\r\n\r\n// extra validators\r\nvalidator.notNull = function (val) {\r\n  return val !== null && val !== undefined;\r\n};\r\n\r\n// https://github.com/chriso/validator.js/blob/6.2.0/validator.js\r\n_.forEach(extensions, (extend, key) => {\r\n  validator[key] = extend;\r\n});\r\n\r\n// map isNull to isEmpty\r\n// https://github.com/chriso/validator.js/commit/e33d38a26ee2f9666b319adb67c7fc0d3dea7125\r\nvalidator.isNull = validator.isEmpty;\r\n\r\n// isDate removed in 7.0.0\r\n// https://github.com/chriso/validator.js/commit/095509fc707a4dc0e99f85131df1176ad6389fc9\r\nvalidator.isDate = function (dateString) {\r\n  return dayjs(dateString).isValid();\r\n};\r\n\r\nexport { validator };\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,MAAM,IAAI,QAAQ,QAAQ;AAC1B,MAAM,YAAY,EAAE,UAAU,QAAQ,WAAW,CAAC;AAClD,MAAM,QAAQ,QAAQ,OAAO;AAEtB,MAAM,aAAa;AAAA,EACxB,OAAO,MAAM,IAAI;AACf,SAAK,QAAQ;AAEb,WAAO;AAAA,EACT;AAAA,EACA,SAAS,KAAK;AACZ,WAAO,CAAC,QAAQ,KAAK,GAAG;AAAA,EAC1B;AAAA,EACA,IAAI,KAAK,KAAK,KAAK;AACjB,WAAO,KAAK,SAAS,KAAK,KAAK,GAAG;AAAA,EACpC;AAAA,EACA,MAAM,KAAK;AACT,WAAO,KAAK,MAAM,GAAG;AAAA,EACvB;AAAA,EACA,OAAO,KAAK;AACV,WAAO,KAAK,KAAK,KAAK,CAAC;AAAA,EACzB;AAAA,EACA,OAAO,KAAK;AACV,WAAO,KAAK,KAAK,KAAK,CAAC;AAAA,EACzB;AAAA,EACA,MAAM,KAAK,QAAQ;AACjB,WAAO,CAAC,KAAK,KAAK,KAAK,MAAM;AAAA,EAC/B;AAAA,EACA,MAAM,KAAK,SAAS,WAAW;AAC7B,UAAM,OAAO,GAAG;AAChB,QAAI,OAAO,UAAU,SAAS,KAAK,OAAO,EAAE,MAAM,GAAG,EAAE,MAAM,UAAU;AACrE,gBAAU,IAAI,OAAO,SAAS,SAAS;AAAA,IACzC;AAEA,WAAO,IAAI,MAAM,OAAO;AAAA,EAC1B;AAAA,EACA,SAAS,KAAK,SAAS,WAAW;AAChC,WAAO,CAAC,KAAK,MAAM,KAAK,SAAS,SAAS;AAAA,EAC5C;AAAA,EACA,UAAU,KAAK;AACb,WAAO,QAAQ,MAAM,QAAQ,0CAA0C,KAAK,GAAG,CAAC;AAAA,EAClF;AAAA,EACA,IAAI,KAAK,KAAK;AACZ,UAAM,SAAS,OAAO,WAAW,GAAG;AAEpC,WAAO,MAAM,MAAM,KAAK,UAAU;AAAA,EACpC;AAAA,EACA,IAAI,KAAK,KAAK;AACZ,UAAM,SAAS,OAAO,WAAW,GAAG;AAEpC,WAAO,MAAM,MAAM,KAAK,UAAU;AAAA,EACpC;AAAA,EACA,IAAI,KAAK,SAAS,WAAW;AAC3B,WAAO,KAAK,SAAS,KAAK,SAAS,SAAS;AAAA,EAC9C;AAAA,EACA,SAAS,KAAK,MAAM;AAClB,WAAO,QAAQ,IAAI,KAAK,IAAI,SAAS,IAAI;AAAA,EAC3C;AAAA,EACA,YAAY,KAAK,MAAM;AACrB,WAAO,CAAC,KAAK,SAAS,KAAK,IAAI;AAAA,EACjC;AAAA,EACA,GAAG,KAAK,SAAS,WAAW;AAC1B,WAAO,KAAK,MAAM,KAAK,SAAS,SAAS;AAAA,EAC3C;AACF;AAGA,UAAU,cAAc,SAAU,OAAO,eAAe,OAAO,eAAe;AAC5E,SAAO,cAAc,eAAe,cAAc,WAAW,WAAW,cAAc,oBAAoB;AAC5G;AAGA,UAAU,UAAU,SAAU,KAAK;AACjC,SAAO,QAAQ,QAAQ,QAAQ;AACjC;AAGA,EAAE,QAAQ,YAAY,CAAC,QAAQ,QAAQ;AACrC,YAAU,OAAO;AACnB,CAAC;AAID,UAAU,SAAS,UAAU;AAI7B,UAAU,SAAS,SAAU,YAAY;AACvC,SAAO,MAAM,UAAU,EAAE,QAAQ;AACnC;",
  "names": []
}
